"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function retry(e,r){return new _promise2["default"](function(t,n){var u=_retry2["default"].operation(r),i=r.onRetry,o=function(e){return n(e)};u.attempt(function(r){if(r>1&&i){var a=u.errors();i(a[a.length-1])}e(o).then(function(e){return t(e)})["catch"](function(e){u.retry(e)||n(u.mainError())})})})}Object.defineProperty(exports,"__esModule",{value:!0});var _promise=require("babel-runtime/core-js/promise"),_promise2=_interopRequireDefault(_promise);exports["default"]=retry;var _retry=require("retry"),_retry2=_interopRequireDefault(_retry);